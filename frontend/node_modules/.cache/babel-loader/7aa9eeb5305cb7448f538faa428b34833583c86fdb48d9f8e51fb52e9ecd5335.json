{"ast":null,"code":"var _jsxFileName = \"F:\\\\Workspace\\\\Cursor\\\\game\\\\frontend\\\\src\\\\components\\\\games\\\\ZombieDice.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport { useState, useEffect, useRef, Suspense } from 'react';\nimport { Canvas, useFrame, useLoader } from '@react-three/fiber';\nimport { Physics, useBox, usePlane } from '@react-three/cannon';\nimport * as THREE from 'three';\nimport { TextureLoader } from 'three';\nimport redBrain from '../../assets/zombie-dice/faces/red-brain.png';\nimport redFootsteps from '../../assets/zombie-dice/faces/red-footsteps.png';\nimport redShotgun from '../../assets/zombie-dice/faces/red-shotgun.png';\nimport yellowBrain from '../../assets/zombie-dice/faces/yellow-brain.png';\nimport yellowFootsteps from '../../assets/zombie-dice/faces/yellow-footsteps.png';\nimport yellowShotgun from '../../assets/zombie-dice/faces/yellow-shotgun.png';\nimport greenBrain from '../../assets/zombie-dice/faces/green-brain.png';\nimport greenFootsteps from '../../assets/zombie-dice/faces/green-footsteps.png';\nimport greenShotgun from '../../assets/zombie-dice/faces/green-shotgun.png';\nimport '../styles/ZombieDice.css';\n\n// ìŠ¹ë¦¬ ì ìˆ˜\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst WINNING_SCORE = 13;\n\n// ì£¼ì‚¬ìœ„ ë©´ ì •ì˜\nconst DICE_FACES = {\n  RED: {\n    faces: [{\n      image: redBrain,\n      type: 'SHOTGUN'\n    },\n    // 1ë©´\n    {\n      image: redFootsteps,\n      type: 'FOOTSTEPS'\n    },\n    // 2ë©´\n    {\n      image: redFootsteps,\n      type: 'SHOTGUN'\n    },\n    // 3ë©´\n    {\n      image: redShotgun,\n      type: 'BRAIN'\n    },\n    // 4ë©´\n    {\n      image: redShotgun,\n      type: 'FOOTSTEPS'\n    },\n    // 5ë©´\n    {\n      image: redShotgun,\n      type: 'SHOTGUN'\n    } // 6ë©´\n    ]\n  },\n  YELLOW: {\n    faces: [{\n      image: yellowBrain,\n      type: 'BRAIN'\n    },\n    // 1ë©´\n    {\n      image: yellowBrain,\n      type: 'FOOTSTEPS'\n    },\n    // 2ë©´\n    {\n      image: yellowFootsteps,\n      type: 'SHOTGUN'\n    },\n    // 3ë©´\n    {\n      image: yellowFootsteps,\n      type: 'SHOTGUN'\n    },\n    // 4ë©´\n    {\n      image: yellowShotgun,\n      type: 'FOOTSTEPS'\n    },\n    // 5ë©´\n    {\n      image: yellowShotgun,\n      type: 'BRAIN'\n    } // 6ë©´\n    ]\n  },\n  GREEN: {\n    faces: [{\n      image: greenBrain,\n      type: 'BRAIN'\n    },\n    // 1ë©´\n    {\n      image: greenBrain,\n      type: 'FOOTSTEPS'\n    },\n    // 2ë©´\n    {\n      image: greenBrain,\n      type: 'BRAIN'\n    },\n    // 3ë©´\n    {\n      image: greenFootsteps,\n      type: 'SHOTGUN'\n    },\n    // 4ë©´\n    {\n      image: greenFootsteps,\n      type: 'FOOTSTEPS'\n    },\n    // 5ë©´\n    {\n      image: greenShotgun,\n      type: 'SHOTGUN'\n    } // 6ë©´\n    ]\n  }\n};\n\n// ë°”ë‹¥ ì»´í¬ë„ŒíŠ¸\nconst Floor = () => {\n  _s();\n  const [ref] = usePlane(() => ({\n    rotation: [-Math.PI / 2, 0, 0],\n    position: [0, -2, 0],\n    type: 'Static'\n  }));\n  return /*#__PURE__*/_jsxDEV(\"mesh\", {\n    ref: ref,\n    receiveShadow: true,\n    children: [/*#__PURE__*/_jsxDEV(\"planeGeometry\", {\n      args: [20, 20]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"shadowMaterial\", {\n      color: \"#171717\",\n      transparent: true,\n      opacity: 0.2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n// ë¬¼ë¦¬ ê¸°ë°˜ ì£¼ì‚¬ìœ„ ì»´í¬ë„ŒíŠ¸\n_s(Floor, \"ZXiOMq8W1xHEoXd0svPT/ZkHa4A=\", false, function () {\n  return [usePlane];\n});\n_c = Floor;\nconst PhysicalDice = ({\n  type,\n  result,\n  isRolling,\n  position\n}) => {\n  _s2();\n  const [ref, api] = useBox(() => ({\n    mass: 1,\n    position: position || [0, 5, 0],\n    rotation: [Math.random() * Math.PI, Math.random() * Math.PI, Math.random() * Math.PI],\n    args: [1, 1, 1],\n    allowSleep: true,\n    sleepSpeedLimit: 0.1,\n    sleepTimeLimit: 1\n  }));\n\n  // í…ìŠ¤ì²˜ ë¡œë“œ\n  const textures = useLoader(TextureLoader, getTexturesForType(type));\n\n  // ì£¼ì‚¬ìœ„ ìƒ‰ìƒ ì„¤ì •\n  const diceColor = getDiceColor(type);\n\n  // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° íš¨ê³¼\n  useEffect(() => {\n    if (isRolling) {\n      // ì£¼ì‚¬ìœ„ ìœ„ì¹˜ ì´ˆê¸°í™”\n      api.position.set((position === null || position === void 0 ? void 0 : position[0]) || 0, (position === null || position === void 0 ? void 0 : position[1]) || 5, (position === null || position === void 0 ? void 0 : position[2]) || 0);\n\n      // ëœë¤í•œ í˜ê³¼ íšŒì „ìœ¼ë¡œ ì£¼ì‚¬ìœ„ ë˜ì§€ê¸°\n      api.velocity.set((Math.random() - 0.5) * 5, 3 + Math.random() * 2, (Math.random() - 0.5) * 5);\n      api.angularVelocity.set(Math.random() * 10 - 5, Math.random() * 10 - 5, Math.random() * 10 - 5);\n    } else {\n      // ê²°ê³¼ì— ë§ê²Œ ì£¼ì‚¬ìœ„ íšŒì „ ì¡°ì •\n      adjustDiceRotation(result, api, ref);\n    }\n  }, [isRolling, api, ref, result, position]);\n\n  // ì£¼ì‚¬ìœ„ íšŒì „ ìƒíƒœ ëª¨ë‹ˆí„°ë§\n  const [rotation, setRotation] = useState([0, 0, 0]);\n\n  // useFrameì„ ì‚¬ìš©í•˜ì—¬ ë§¤ í”„ë ˆì„ë§ˆë‹¤ ìƒíƒœ ì—…ë°ì´íŠ¸\n  useFrame(() => {\n    // ì£¼ì‚¬ìœ„ íšŒì „ ìƒíƒœ ì—…ë°ì´íŠ¸\n    if (ref.current) {\n      setRotation([ref.current.rotation.x, ref.current.rotation.y, ref.current.rotation.z]);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"mesh\", {\n    ref: ref,\n    castShadow: true,\n    receiveShadow: true,\n    children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n      args: [1, 1, 1]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n      attachArray: \"material\",\n      map: textures[0],\n      color: diceColor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n      attachArray: \"material\",\n      map: textures[1],\n      color: diceColor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n      attachArray: \"material\",\n      map: textures[2],\n      color: diceColor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n      attachArray: \"material\",\n      map: textures[3],\n      color: diceColor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n      attachArray: \"material\",\n      map: textures[4],\n      color: diceColor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n      attachArray: \"material\",\n      map: textures[5],\n      color: diceColor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n};\n\n// ì£¼ì‚¬ìœ„ ìƒ‰ìƒ ê°€ì ¸ì˜¤ê¸°\n_s2(PhysicalDice, \"1rcDKM9NLbavOIHBYrEOjOjSUL0=\", false, function () {\n  return [useBox, useLoader, useFrame];\n});\n_c2 = PhysicalDice;\nconst getDiceColor = type => {\n  if (type === 'RED') return 0xff0000;\n  if (type === 'YELLOW') return 0xffff00;\n  if (type === 'GREEN') return 0x00ff00;\n  return 0xffffff;\n};\n\n// ì£¼ì‚¬ìœ„ íƒ€ì…ì— ë”°ë¥¸ í…ìŠ¤ì²˜ ê°€ì ¸ì˜¤ê¸°\nconst getTexturesForType = type => {\n  if (type === 'RED') {\n    return [redBrain, redShotgun, redFootsteps, redBrain, redShotgun, redFootsteps];\n  } else if (type === 'YELLOW') {\n    return [yellowBrain, yellowShotgun, yellowFootsteps, yellowBrain, yellowShotgun, yellowFootsteps];\n  } else if (type === 'GREEN') {\n    return [greenBrain, greenShotgun, greenFootsteps, greenBrain, greenShotgun, greenFootsteps];\n  }\n  return [];\n};\n\n// ê²°ê³¼ì— ë§ê²Œ ì£¼ì‚¬ìœ„ íšŒì „ ì¡°ì • í•¨ìˆ˜ ìˆ˜ì •\nconst adjustDiceRotation = (result, api, ref) => {\n  let targetRotation = [0, 0, 0];\n\n  // ê²°ê³¼ì— ë”°ë¼ ì£¼ì‚¬ìœ„ íšŒì „ ì„¤ì •\n  if (result === 'BRAIN') {\n    targetRotation = [0, 0, 0]; // ë‡Œê°€ ìœ„ë¡œ ì˜¤ë„ë¡\n  } else if (result === 'SHOTGUN') {\n    targetRotation = [0, Math.PI / 2, 0]; // ì´ì´ ìœ„ë¡œ ì˜¤ë„ë¡\n  } else if (result === 'FOOTSTEPS') {\n    targetRotation = [Math.PI / 2, 0, 0]; // ë°œìêµ­ì´ ìœ„ë¡œ ì˜¤ë„ë¡\n  }\n\n  // ì£¼ì‚¬ìœ„ íšŒì „ ì„¤ì • - ìˆ˜ì •ëœ ë¶€ë¶„\n  if (ref.current) {\n    ref.current.rotation.x = targetRotation[0];\n    ref.current.rotation.y = targetRotation[1];\n    ref.current.rotation.z = targetRotation[2];\n  }\n\n  // ë¬¼ë¦¬ ì†ì„± ì •ì§€\n  api.velocity.set(0, 0, 0);\n  api.angularVelocity.set(0, 0, 0);\n};\n\n// ì£¼ì‚¬ìœ„ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸\nconst DiceContainer = ({\n  type,\n  result,\n  isRolling\n}) => {\n  _s3();\n  const [animationComplete, setAnimationComplete] = useState(false);\n  const handleAnimationComplete = () => {\n    setAnimationComplete(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `dice-result-container ${isRolling && !animationComplete ? 'rolling-container' : 'animation-ended'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `dice-3d-container ${type.toLowerCase()}-dice-container`,\n      children: /*#__PURE__*/_jsxDEV(Canvas, {\n        shadows: true,\n        camera: {\n          position: [0, 2, 5],\n          fov: 50\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n          intensity: 0.5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n          position: [10, 10, 10],\n          intensity: 0.8,\n          castShadow: true,\n          \"shadow-mapSize-width\": 1024,\n          \"shadow-mapSize-height\": 1024\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n          fallback: null,\n          children: /*#__PURE__*/_jsxDEV(Physics, {\n            gravity: [0, -9.8, 0],\n            defaultContactMaterial: {\n              restitution: 0.3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Floor, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PhysicalDice, {\n              type: type,\n              result: result,\n              isRolling: isRolling,\n              position: [0, 5, 0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `dice-result-label ${getResultClass(result)} ${animationComplete ? 'show-result' : ''}`,\n      children: [result === 'BRAIN' && 'ë‡Œ', result === 'SHOTGUN' && 'ì´', result === 'FOOTSTEPS' && 'ë°œìêµ­']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n};\n\n// ê²°ê³¼ íƒ€ì…ì— ë”°ë¥¸ í´ë˜ìŠ¤ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°\n_s3(DiceContainer, \"Vm61eBUTB3kLEMMMnioQCEBlDHU=\");\n_c3 = DiceContainer;\nconst getResultClass = result => {\n  if (result === 'BRAIN') return 'result-brain';\n  if (result === 'SHOTGUN') return 'result-shotgun';\n  if (result === 'FOOTSTEPS') return 'result-footsteps';\n  return '';\n};\n\n// ê¸°ì¡´ Dice ì»´í¬ë„ŒíŠ¸ë¥¼ DiceContainerë¡œ ëŒ€ì²´\nconst Dice = ({\n  type,\n  result,\n  isRolling\n}) => {\n  return /*#__PURE__*/_jsxDEV(DiceContainer, {\n    type: type,\n    result: result,\n    isRolling: isRolling\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 10\n  }, this);\n};\n\n// ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° í™”ë©´ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€\n_c4 = Dice;\nconst DiceRollingScene = ({\n  selectedDice,\n  onRollComplete\n}) => {\n  _s4();\n  const [rollResults, setRollResults] = useState([]);\n  const [isRollingComplete, setIsRollingComplete] = useState(false);\n\n  // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° íš¨ê³¼ ë° ê²°ê³¼ ìƒì„±\n  useEffect(() => {\n    if (selectedDice && selectedDice.length > 0) {\n      // ì£¼ì‚¬ìœ„ ê²°ê³¼ ìƒì„±\n      const results = selectedDice.map(diceType => {\n        // ì£¼ì‚¬ìœ„ íƒ€ì…ì— ë”°ë¥¸ ë©´ ì •ë³´ ê°€ì ¸ì˜¤ê¸°\n        const diceFaces = DICE_FACES[diceType].faces;\n\n        // ëœë¤í•˜ê²Œ ë©´ ì„ íƒ (1-6)\n        const faceIndex = Math.floor(Math.random() * 6);\n        const selectedFace = diceFaces[faceIndex];\n        return {\n          type: diceType,\n          result: selectedFace.type,\n          faceIndex: faceIndex\n        };\n      });\n      setRollResults(results);\n\n      // ì• ë‹ˆë©”ì´ì…˜ í›„ ê²°ê³¼ ì²˜ë¦¬\n      const timer = setTimeout(() => {\n        setIsRollingComplete(true);\n        if (onRollComplete) {\n          onRollComplete(results);\n        }\n      }, 2500); // 2.5ì´ˆ í›„ ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ\n\n      return () => clearTimeout(timer);\n    }\n  }, [selectedDice, onRollComplete]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dice-rolling-scene\",\n    children: /*#__PURE__*/_jsxDEV(Canvas, {\n      shadows: true,\n      camera: {\n        position: [0, 5, 10],\n        fov: 50\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n        intensity: 0.5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n        position: [10, 10, 10],\n        intensity: 0.8,\n        castShadow: true,\n        \"shadow-mapSize-width\": 1024,\n        \"shadow-mapSize-height\": 1024\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: null,\n        children: /*#__PURE__*/_jsxDEV(Physics, {\n          gravity: [0, -9.8, 0],\n          defaultContactMaterial: {\n            restitution: 0.3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Floor, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this), selectedDice.map((diceType, index) => {\n            var _rollResults$index;\n            return /*#__PURE__*/_jsxDEV(PhysicalDice, {\n              type: diceType,\n              result: ((_rollResults$index = rollResults[index]) === null || _rollResults$index === void 0 ? void 0 : _rollResults$index.result) || 'BRAIN',\n              isRolling: !isRollingComplete,\n              position: [index * 2 - selectedDice.length + 1, 5 + index * 0.5, 0]\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 314,\n    columnNumber: 5\n  }, this);\n};\n_s4(DiceRollingScene, \"6U7QcKjNxjKBqfw6hstBuuAjS+k=\");\n_c5 = DiceRollingScene;\nfunction ZombieDice({\n  players,\n  currentTurn,\n  onTurnEnd,\n  isMyTurn\n}) {\n  _s5();\n  const [dicePool, setDicePool] = useState([]);\n  const [selectedDice, setSelectedDice] = useState([]);\n  const [rolledResults, setRolledResults] = useState([]);\n  const [currentBrains, setCurrentBrains] = useState(0);\n  const [currentShotguns, setCurrentShotguns] = useState(0);\n  const [isRolling, setIsRolling] = useState(false);\n  const [winner, setWinner] = useState(null);\n\n  // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ëª¨ë‹¬ ìƒíƒœ ì¶”ê°€\n  const [showRollingModal, setShowRollingModal] = useState(false);\n\n  // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ìš”ì²­ í•¨ìˆ˜ ìˆ˜ì •\n  const handleRoll = () => {\n    console.log('ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ìš”ì²­');\n\n    // ì„ íƒëœ ì£¼ì‚¬ìœ„ê°€ ì—†ìœ¼ë©´ ë¨¼ì € ì„ íƒ\n    if (!selectedDice || selectedDice.length === 0) {\n      console.log('ì„ íƒëœ ì£¼ì‚¬ìœ„ ì—†ìŒ, ì£¼ì‚¬ìœ„ ì„ íƒ ìš”ì²­');\n      if (window.socket) {\n        const roomId = window.location.pathname.split('/')[2];\n        window.socket.emit('gameAction', {\n          action: 'selectDice',\n          roomId\n        });\n      } else {\n        console.error('ì†Œì¼“ ì—°ê²°ì´ ì—†ìŠµë‹ˆë‹¤!');\n      }\n    } else {\n      // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ëª¨ë‹¬ í‘œì‹œ\n      setIsRolling(true);\n      setShowRollingModal(true);\n    }\n  };\n\n  // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ê²°ê³¼ ì²˜ë¦¬ í•¨ìˆ˜\n  const handleRollComplete = results => {\n    console.log('ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ê²°ê³¼:', results);\n\n    // ê²°ê³¼ ì €ì¥\n    setRolledResults(results);\n\n    // ê²°ê³¼ ê³„ì‚°\n    let newBrains = currentBrains;\n    let newShotguns = currentShotguns;\n    results.forEach(({\n      result\n    }) => {\n      if (result === 'BRAIN') newBrains++;\n      if (result === 'SHOTGUN') newShotguns++;\n    });\n\n    // ì„œë²„ì— ê²°ê³¼ ì „ì†¡\n    if (window.socket) {\n      const roomId = window.location.pathname.split('/')[2];\n      window.socket.emit('gameAction', {\n        action: 'rollDiceResult',\n        roomId,\n        results,\n        brains: newBrains,\n        shotguns: newShotguns\n      });\n    }\n\n    // ìƒíƒœ ì—…ë°ì´íŠ¸\n    setCurrentBrains(newBrains);\n    setCurrentShotguns(newShotguns);\n\n    // ëª¨ë‹¬ ë‹«ê¸° (ì•½ê°„ì˜ ë”œë ˆì´ í›„)\n    setTimeout(() => {\n      setShowRollingModal(false);\n      setIsRolling(false);\n    }, 500);\n  };\n\n  // ì„œë²„ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ìˆ˜ì •\n  useEffect(() => {\n    if (window.socket) {\n      // ì£¼ì‚¬ìœ„ ì„ íƒ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ\n      const handleDiceSelected = data => {\n        console.log('ì£¼ì‚¬ìœ„ ì„ íƒë¨:', data);\n        setSelectedDice(data.selectedDice || []);\n        setDicePool(data.dicePool || []);\n      };\n\n      // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ê²°ê³¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ì„œë²„ì—ì„œ ê²°ê³¼ í™•ì¸ìš©)\n      const handleRollDiceResult = data => {\n        console.log('ì„œë²„ì—ì„œ ì£¼ì‚¬ìœ„ ê²°ê³¼ í™•ì¸:', data);\n\n        // ì£¼ì‚¬ìœ„ í’€ ì—…ë°ì´íŠ¸\n        if (data.dicePool) {\n          setDicePool(data.dicePool);\n        }\n\n        // ìŠ¹ì í™•ì¸\n        if (data.winner) {\n          setWinner(data.winner);\n        }\n      };\n\n      // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡\n      window.socket.on('diceSelected', handleDiceSelected);\n      window.socket.on('rollDiceResult', handleRollDiceResult);\n\n      // ê¸°ì¡´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ìœ ì§€\n      // ...\n\n      // í´ë¦°ì—…\n      return () => {\n        window.socket.off('diceSelected', handleDiceSelected);\n        window.socket.off('rollDiceResult', handleRollDiceResult);\n        // ê¸°ì¡´ í´ë¦°ì—… ìœ ì§€\n        // ...\n      };\n    }\n  }, [currentBrains, currentShotguns, isMyTurn, onTurnEnd]);\n\n  // ë‚´ í„´ì¼ ë•Œ í™”ë©´ ìˆ˜ì •\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"zombie-dice\",\n    children: [renderScoreBoard(), winner ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-success text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uD83C\\uDFC6 \", winner.nickname, \"\\uB2D8\\uC774 \\uC2B9\\uB9AC\\uD558\\uC168\\uC2B5\\uB2C8\\uB2E4! \\uD83C\\uDFC6\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"my-turn-indicator\",\n          children: \"\\uB2F9\\uC2E0\\uC758 \\uCC28\\uB840\\uC785\\uB2C8\\uB2E4!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"current-status mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-around\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\uD68D\\uB4DD\\uD55C \\uB1CC: \", currentBrains]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\uC0F7\\uAC74 \\uD69F\\uC218: \", currentShotguns, \"/3\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 11\n      }, this), showRollingModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dice-rolling-modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dice-rolling-modal-content\",\n          children: /*#__PURE__*/_jsxDEV(DiceRollingScene, {\n            selectedDice: selectedDice,\n            onRollComplete: handleRollComplete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dice-area mb-3\",\n        children: !showRollingModal && (isRolling ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uC8FC\\uC0AC\\uC704 \\uAD74\\uB9AC\\uB294 \\uC911...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 17\n        }, this) : rolledResults.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rolled-results\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\uC8FC\\uC0AC\\uC704 \\uACB0\\uACFC:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dice-results-container\",\n            children: rolledResults.map((result, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `dice-result ${result.result.toLowerCase()}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `dice-type ${result.type.toLowerCase()}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dice-face\",\n                children: [result.result === 'BRAIN' && 'ë‡Œ', result.result === 'SHOTGUN' && 'ì´', result.result === 'FOOTSTEPS' && 'ë°œìêµ­']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 27\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-lg\",\n          onClick: handleRoll,\n          disabled: isRolling,\n          children: selectedDice.length === 0 ? \"ì£¼ì‚¬ìœ„ ì„ íƒ\" : \"ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸°\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 11\n      }, this), rolledResults.length > 0 && !winner && !isRolling && !showRollingModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success me-2\",\n          onClick: handleContinue,\n          disabled: currentShotguns >= 3,\n          children: \"\\uACC4\\uC18D\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-warning\",\n          onClick: handleStop,\n          children: currentShotguns >= 3 ? \"í„´ ì¢…ë£Œ (0ì )\" : \"ë©ˆì¶”ê¸°\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 13\n      }, this), currentShotguns >= 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uCD1D\\uC774 3\\uAC1C \\uC774\\uC0C1!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 15\n        }, this), \" \\uC774\\uBC88 \\uD134\\uC5D0 \\uD68D\\uB4DD\\uD55C \\uB1CC\\uB97C \\uBAA8\\uB450 \\uC783\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uD134\\uC744 \\uC885\\uB8CC\\uD574\\uC8FC\\uC138\\uC694.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(DicePoolStatus, {\n        dicePool: dicePool\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 466,\n    columnNumber: 5\n  }, this);\n}\n_s5(ZombieDice, \"XV2y1AbCBwpNQNdddOcdqTTida0=\");\n_c6 = ZombieDice;\nexport default ZombieDice;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Floor\");\n$RefreshReg$(_c2, \"PhysicalDice\");\n$RefreshReg$(_c3, \"DiceContainer\");\n$RefreshReg$(_c4, \"Dice\");\n$RefreshReg$(_c5, \"DiceRollingScene\");\n$RefreshReg$(_c6, \"ZombieDice\");","map":{"version":3,"names":["useState","useEffect","useRef","Suspense","Canvas","useFrame","useLoader","Physics","useBox","usePlane","THREE","TextureLoader","redBrain","redFootsteps","redShotgun","yellowBrain","yellowFootsteps","yellowShotgun","greenBrain","greenFootsteps","greenShotgun","jsxDEV","_jsxDEV","Fragment","_Fragment","WINNING_SCORE","DICE_FACES","RED","faces","image","type","YELLOW","GREEN","Floor","_s","ref","rotation","Math","PI","position","receiveShadow","children","args","fileName","_jsxFileName","lineNumber","columnNumber","color","transparent","opacity","_c","PhysicalDice","result","isRolling","_s2","api","mass","random","allowSleep","sleepSpeedLimit","sleepTimeLimit","textures","getTexturesForType","diceColor","getDiceColor","set","velocity","angularVelocity","adjustDiceRotation","setRotation","current","x","y","z","castShadow","attachArray","map","_c2","targetRotation","DiceContainer","_s3","animationComplete","setAnimationComplete","handleAnimationComplete","className","toLowerCase","shadows","camera","fov","intensity","fallback","gravity","defaultContactMaterial","restitution","getResultClass","_c3","Dice","_c4","DiceRollingScene","selectedDice","onRollComplete","_s4","rollResults","setRollResults","isRollingComplete","setIsRollingComplete","length","results","diceType","diceFaces","faceIndex","floor","selectedFace","timer","setTimeout","clearTimeout","index","_rollResults$index","_c5","ZombieDice","players","currentTurn","onTurnEnd","isMyTurn","_s5","dicePool","setDicePool","setSelectedDice","rolledResults","setRolledResults","currentBrains","setCurrentBrains","currentShotguns","setCurrentShotguns","setIsRolling","winner","setWinner","showRollingModal","setShowRollingModal","handleRoll","console","log","window","socket","roomId","location","pathname","split","emit","action","error","handleRollComplete","newBrains","newShotguns","forEach","brains","shotguns","handleDiceSelected","data","handleRollDiceResult","on","off","renderScoreBoard","nickname","onClick","disabled","handleContinue","handleStop","DicePoolStatus","_c6","$RefreshReg$"],"sources":["F:/Workspace/Cursor/game/frontend/src/components/games/ZombieDice.js"],"sourcesContent":["import { useState, useEffect, useRef, Suspense } from 'react';\r\nimport { Canvas, useFrame, useLoader } from '@react-three/fiber';\r\nimport { Physics, useBox, usePlane } from '@react-three/cannon';\r\nimport * as THREE from 'three';\r\nimport { TextureLoader } from 'three';\r\nimport redBrain from '../../assets/zombie-dice/faces/red-brain.png';\r\nimport redFootsteps from '../../assets/zombie-dice/faces/red-footsteps.png';\r\nimport redShotgun from '../../assets/zombie-dice/faces/red-shotgun.png';\r\nimport yellowBrain from '../../assets/zombie-dice/faces/yellow-brain.png';\r\nimport yellowFootsteps from '../../assets/zombie-dice/faces/yellow-footsteps.png';\r\nimport yellowShotgun from '../../assets/zombie-dice/faces/yellow-shotgun.png';\r\nimport greenBrain from '../../assets/zombie-dice/faces/green-brain.png';\r\nimport greenFootsteps from '../../assets/zombie-dice/faces/green-footsteps.png';\r\nimport greenShotgun from '../../assets/zombie-dice/faces/green-shotgun.png';\r\nimport '../styles/ZombieDice.css';\r\n\r\n// ìŠ¹ë¦¬ ì ìˆ˜\r\nconst WINNING_SCORE = 13;\r\n\r\n// ì£¼ì‚¬ìœ„ ë©´ ì •ì˜\r\nconst DICE_FACES = {\r\n  RED: {\r\n    faces: [\r\n      { image: redBrain, type: 'SHOTGUN' },      // 1ë©´\r\n      { image: redFootsteps, type: 'FOOTSTEPS' }, // 2ë©´\r\n      { image: redFootsteps, type: 'SHOTGUN' }, // 3ë©´\r\n      { image: redShotgun, type: 'BRAIN' },   // 4ë©´\r\n      { image: redShotgun, type: 'FOOTSTEPS' },   // 5ë©´\r\n      { image: redShotgun, type: 'SHOTGUN' }    // 6ë©´\r\n    ]\r\n  },\r\n  YELLOW: {\r\n    faces: [\r\n      { image: yellowBrain, type: 'BRAIN' },     // 1ë©´\r\n      { image: yellowBrain, type: 'FOOTSTEPS' },     // 2ë©´\r\n      { image: yellowFootsteps, type: 'SHOTGUN' }, // 3ë©´\r\n      { image: yellowFootsteps, type: 'SHOTGUN' }, // 4ë©´\r\n      { image: yellowShotgun, type: 'FOOTSTEPS' },  // 5ë©´\r\n      { image: yellowShotgun, type: 'BRAIN' }   // 6ë©´\r\n    ]\r\n  },\r\n  GREEN: {\r\n    faces: [\r\n      { image: greenBrain, type: 'BRAIN' },     // 1ë©´\r\n      { image: greenBrain, type: 'FOOTSTEPS' },     // 2ë©´\r\n      { image: greenBrain, type: 'BRAIN' },     // 3ë©´\r\n      { image: greenFootsteps, type: 'SHOTGUN' }, // 4ë©´\r\n      { image: greenFootsteps, type: 'FOOTSTEPS' }, // 5ë©´\r\n      { image: greenShotgun, type: 'SHOTGUN' }   // 6ë©´\r\n    ]\r\n  }\r\n};\r\n\r\n// ë°”ë‹¥ ì»´í¬ë„ŒíŠ¸\r\nconst Floor = () => {\r\n  const [ref] = usePlane(() => ({ \r\n    rotation: [-Math.PI / 2, 0, 0],\r\n    position: [0, -2, 0],\r\n    type: 'Static'\r\n  }));\r\n  \r\n  return (\r\n    <mesh ref={ref} receiveShadow>\r\n      <planeGeometry args={[20, 20]} />\r\n      <shadowMaterial color=\"#171717\" transparent opacity={0.2} />\r\n    </mesh>\r\n  );\r\n};\r\n\r\n// ë¬¼ë¦¬ ê¸°ë°˜ ì£¼ì‚¬ìœ„ ì»´í¬ë„ŒíŠ¸\r\nconst PhysicalDice = ({ type, result, isRolling, position }) => {\r\n  const [ref, api] = useBox(() => ({ \r\n    mass: 1,\r\n    position: position || [0, 5, 0],\r\n    rotation: [\r\n      Math.random() * Math.PI,\r\n      Math.random() * Math.PI,\r\n      Math.random() * Math.PI\r\n    ],\r\n    args: [1, 1, 1],\r\n    allowSleep: true,\r\n    sleepSpeedLimit: 0.1,\r\n    sleepTimeLimit: 1\r\n  }));\r\n  \r\n  // í…ìŠ¤ì²˜ ë¡œë“œ\r\n  const textures = useLoader(TextureLoader, getTexturesForType(type));\r\n  \r\n  // ì£¼ì‚¬ìœ„ ìƒ‰ìƒ ì„¤ì •\r\n  const diceColor = getDiceColor(type);\r\n  \r\n  // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° íš¨ê³¼\r\n  useEffect(() => {\r\n    if (isRolling) {\r\n      // ì£¼ì‚¬ìœ„ ìœ„ì¹˜ ì´ˆê¸°í™”\r\n      api.position.set(position?.[0] || 0, position?.[1] || 5, position?.[2] || 0);\r\n      \r\n      // ëœë¤í•œ í˜ê³¼ íšŒì „ìœ¼ë¡œ ì£¼ì‚¬ìœ„ ë˜ì§€ê¸°\r\n      api.velocity.set(\r\n        (Math.random() - 0.5) * 5,\r\n        3 + Math.random() * 2,\r\n        (Math.random() - 0.5) * 5\r\n      );\r\n      \r\n      api.angularVelocity.set(\r\n        Math.random() * 10 - 5,\r\n        Math.random() * 10 - 5,\r\n        Math.random() * 10 - 5\r\n      );\r\n    } else {\r\n      // ê²°ê³¼ì— ë§ê²Œ ì£¼ì‚¬ìœ„ íšŒì „ ì¡°ì •\r\n      adjustDiceRotation(result, api, ref);\r\n    }\r\n  }, [isRolling, api, ref, result, position]);\r\n  \r\n  // ì£¼ì‚¬ìœ„ íšŒì „ ìƒíƒœ ëª¨ë‹ˆí„°ë§\r\n  const [rotation, setRotation] = useState([0, 0, 0]);\r\n  \r\n  // useFrameì„ ì‚¬ìš©í•˜ì—¬ ë§¤ í”„ë ˆì„ë§ˆë‹¤ ìƒíƒœ ì—…ë°ì´íŠ¸\r\n  useFrame(() => {\r\n    // ì£¼ì‚¬ìœ„ íšŒì „ ìƒíƒœ ì—…ë°ì´íŠ¸\r\n    if (ref.current) {\r\n      setRotation([\r\n        ref.current.rotation.x,\r\n        ref.current.rotation.y,\r\n        ref.current.rotation.z\r\n      ]);\r\n    }\r\n  });\r\n  \r\n  return (\r\n    <mesh \r\n      ref={ref}\r\n      castShadow\r\n      receiveShadow\r\n    >\r\n      <boxGeometry args={[1, 1, 1]} />\r\n      <meshStandardMaterial \r\n        attachArray=\"material\" \r\n        map={textures[0]} \r\n        color={diceColor}\r\n      />\r\n      <meshStandardMaterial \r\n        attachArray=\"material\" \r\n        map={textures[1]} \r\n        color={diceColor}\r\n      />\r\n      <meshStandardMaterial \r\n        attachArray=\"material\" \r\n        map={textures[2]} \r\n        color={diceColor}\r\n      />\r\n      <meshStandardMaterial \r\n        attachArray=\"material\" \r\n        map={textures[3]} \r\n        color={diceColor}\r\n      />\r\n      <meshStandardMaterial \r\n        attachArray=\"material\" \r\n        map={textures[4]} \r\n        color={diceColor}\r\n      />\r\n      <meshStandardMaterial \r\n        attachArray=\"material\" \r\n        map={textures[5]} \r\n        color={diceColor}\r\n      />\r\n    </mesh>\r\n  );\r\n};\r\n\r\n// ì£¼ì‚¬ìœ„ ìƒ‰ìƒ ê°€ì ¸ì˜¤ê¸°\r\nconst getDiceColor = (type) => {\r\n  if (type === 'RED') return 0xff0000;\r\n  if (type === 'YELLOW') return 0xffff00;\r\n  if (type === 'GREEN') return 0x00ff00;\r\n  return 0xffffff;\r\n};\r\n\r\n// ì£¼ì‚¬ìœ„ íƒ€ì…ì— ë”°ë¥¸ í…ìŠ¤ì²˜ ê°€ì ¸ì˜¤ê¸°\r\nconst getTexturesForType = (type) => {\r\n  if (type === 'RED') {\r\n    return [redBrain, redShotgun, redFootsteps, redBrain, redShotgun, redFootsteps];\r\n  } else if (type === 'YELLOW') {\r\n    return [yellowBrain, yellowShotgun, yellowFootsteps, yellowBrain, yellowShotgun, yellowFootsteps];\r\n  } else if (type === 'GREEN') {\r\n    return [greenBrain, greenShotgun, greenFootsteps, greenBrain, greenShotgun, greenFootsteps];\r\n  }\r\n  return [];\r\n};\r\n\r\n// ê²°ê³¼ì— ë§ê²Œ ì£¼ì‚¬ìœ„ íšŒì „ ì¡°ì • í•¨ìˆ˜ ìˆ˜ì •\r\nconst adjustDiceRotation = (result, api, ref) => {\r\n  let targetRotation = [0, 0, 0];\r\n  \r\n  // ê²°ê³¼ì— ë”°ë¼ ì£¼ì‚¬ìœ„ íšŒì „ ì„¤ì •\r\n  if (result === 'BRAIN') {\r\n    targetRotation = [0, 0, 0]; // ë‡Œê°€ ìœ„ë¡œ ì˜¤ë„ë¡\r\n  } else if (result === 'SHOTGUN') {\r\n    targetRotation = [0, Math.PI / 2, 0]; // ì´ì´ ìœ„ë¡œ ì˜¤ë„ë¡\r\n  } else if (result === 'FOOTSTEPS') {\r\n    targetRotation = [Math.PI / 2, 0, 0]; // ë°œìêµ­ì´ ìœ„ë¡œ ì˜¤ë„ë¡\r\n  }\r\n  \r\n  // ì£¼ì‚¬ìœ„ íšŒì „ ì„¤ì • - ìˆ˜ì •ëœ ë¶€ë¶„\r\n  if (ref.current) {\r\n    ref.current.rotation.x = targetRotation[0];\r\n    ref.current.rotation.y = targetRotation[1];\r\n    ref.current.rotation.z = targetRotation[2];\r\n  }\r\n  \r\n  // ë¬¼ë¦¬ ì†ì„± ì •ì§€\r\n  api.velocity.set(0, 0, 0);\r\n  api.angularVelocity.set(0, 0, 0);\r\n};\r\n\r\n// ì£¼ì‚¬ìœ„ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸\r\nconst DiceContainer = ({ type, result, isRolling }) => {\r\n  const [animationComplete, setAnimationComplete] = useState(false);\r\n  \r\n  const handleAnimationComplete = () => {\r\n    setAnimationComplete(true);\r\n  };\r\n  \r\n  return (\r\n    <div className={`dice-result-container ${isRolling && !animationComplete ? 'rolling-container' : 'animation-ended'}`}>\r\n      <div className={`dice-3d-container ${type.toLowerCase()}-dice-container`}>\r\n        <Canvas shadows camera={{ position: [0, 2, 5], fov: 50 }}>\r\n          <ambientLight intensity={0.5} />\r\n          <directionalLight\r\n            position={[10, 10, 10]}\r\n            intensity={0.8}\r\n            castShadow\r\n            shadow-mapSize-width={1024}\r\n            shadow-mapSize-height={1024}\r\n          />\r\n          <Suspense fallback={null}>\r\n            <Physics \r\n              gravity={[0, -9.8, 0]} \r\n              defaultContactMaterial={{ restitution: 0.3 }}\r\n            >\r\n              <Floor />\r\n              <PhysicalDice \r\n                type={type} \r\n                result={result} \r\n                isRolling={isRolling} \r\n                position={[0, 5, 0]}\r\n              />\r\n            </Physics>\r\n          </Suspense>\r\n        </Canvas>\r\n      </div>\r\n      <div className={`dice-result-label ${getResultClass(result)} ${animationComplete ? 'show-result' : ''}`}>\r\n        {result === 'BRAIN' && 'ë‡Œ'}\r\n        {result === 'SHOTGUN' && 'ì´'}\r\n        {result === 'FOOTSTEPS' && 'ë°œìêµ­'}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ê²°ê³¼ íƒ€ì…ì— ë”°ë¥¸ í´ë˜ìŠ¤ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°\r\nconst getResultClass = (result) => {\r\n  if (result === 'BRAIN') return 'result-brain';\r\n  if (result === 'SHOTGUN') return 'result-shotgun';\r\n  if (result === 'FOOTSTEPS') return 'result-footsteps';\r\n  return '';\r\n};\r\n\r\n// ê¸°ì¡´ Dice ì»´í¬ë„ŒíŠ¸ë¥¼ DiceContainerë¡œ ëŒ€ì²´\r\nconst Dice = ({ type, result, isRolling }) => {\r\n  return <DiceContainer type={type} result={result} isRolling={isRolling} />;\r\n};\r\n\r\n// ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° í™”ë©´ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€\r\nconst DiceRollingScene = ({ selectedDice, onRollComplete }) => {\r\n  const [rollResults, setRollResults] = useState([]);\r\n  const [isRollingComplete, setIsRollingComplete] = useState(false);\r\n  \r\n  // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° íš¨ê³¼ ë° ê²°ê³¼ ìƒì„±\r\n  useEffect(() => {\r\n    if (selectedDice && selectedDice.length > 0) {\r\n      // ì£¼ì‚¬ìœ„ ê²°ê³¼ ìƒì„±\r\n      const results = selectedDice.map(diceType => {\r\n        // ì£¼ì‚¬ìœ„ íƒ€ì…ì— ë”°ë¥¸ ë©´ ì •ë³´ ê°€ì ¸ì˜¤ê¸°\r\n        const diceFaces = DICE_FACES[diceType].faces;\r\n        \r\n        // ëœë¤í•˜ê²Œ ë©´ ì„ íƒ (1-6)\r\n        const faceIndex = Math.floor(Math.random() * 6);\r\n        const selectedFace = diceFaces[faceIndex];\r\n        \r\n        return {\r\n          type: diceType,\r\n          result: selectedFace.type,\r\n          faceIndex: faceIndex\r\n        };\r\n      });\r\n      \r\n      setRollResults(results);\r\n      \r\n      // ì• ë‹ˆë©”ì´ì…˜ í›„ ê²°ê³¼ ì²˜ë¦¬\r\n      const timer = setTimeout(() => {\r\n        setIsRollingComplete(true);\r\n        if (onRollComplete) {\r\n          onRollComplete(results);\r\n        }\r\n      }, 2500); // 2.5ì´ˆ í›„ ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ\r\n      \r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [selectedDice, onRollComplete]);\r\n  \r\n  return (\r\n    <div className=\"dice-rolling-scene\">\r\n      <Canvas shadows camera={{ position: [0, 5, 10], fov: 50 }}>\r\n        <ambientLight intensity={0.5} />\r\n        <directionalLight\r\n          position={[10, 10, 10]}\r\n          intensity={0.8}\r\n          castShadow\r\n          shadow-mapSize-width={1024}\r\n          shadow-mapSize-height={1024}\r\n        />\r\n        <Suspense fallback={null}>\r\n          <Physics \r\n            gravity={[0, -9.8, 0]} \r\n            defaultContactMaterial={{ restitution: 0.3 }}\r\n          >\r\n            <Floor />\r\n            {selectedDice.map((diceType, index) => (\r\n              <PhysicalDice \r\n                key={index}\r\n                type={diceType}\r\n                result={rollResults[index]?.result || 'BRAIN'}\r\n                isRolling={!isRollingComplete}\r\n                position={[index * 2 - selectedDice.length + 1, 5 + index * 0.5, 0]}\r\n              />\r\n            ))}\r\n          </Physics>\r\n        </Suspense>\r\n      </Canvas>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction ZombieDice({ players, currentTurn, onTurnEnd, isMyTurn }) {\r\n  const [dicePool, setDicePool] = useState([]);\r\n  const [selectedDice, setSelectedDice] = useState([]);\r\n  const [rolledResults, setRolledResults] = useState([]);\r\n  const [currentBrains, setCurrentBrains] = useState(0);\r\n  const [currentShotguns, setCurrentShotguns] = useState(0);\r\n  const [isRolling, setIsRolling] = useState(false);\r\n  const [winner, setWinner] = useState(null);\r\n  \r\n  // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ëª¨ë‹¬ ìƒíƒœ ì¶”ê°€\r\n  const [showRollingModal, setShowRollingModal] = useState(false);\r\n  \r\n  // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ìš”ì²­ í•¨ìˆ˜ ìˆ˜ì •\r\n  const handleRoll = () => {\r\n    console.log('ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ìš”ì²­');\r\n    \r\n    // ì„ íƒëœ ì£¼ì‚¬ìœ„ê°€ ì—†ìœ¼ë©´ ë¨¼ì € ì„ íƒ\r\n    if (!selectedDice || selectedDice.length === 0) {\r\n      console.log('ì„ íƒëœ ì£¼ì‚¬ìœ„ ì—†ìŒ, ì£¼ì‚¬ìœ„ ì„ íƒ ìš”ì²­');\r\n      \r\n      if (window.socket) {\r\n        const roomId = window.location.pathname.split('/')[2];\r\n        window.socket.emit('gameAction', {\r\n          action: 'selectDice',\r\n          roomId\r\n        });\r\n      } else {\r\n        console.error('ì†Œì¼“ ì—°ê²°ì´ ì—†ìŠµë‹ˆë‹¤!');\r\n      }\r\n    } else {\r\n      // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ëª¨ë‹¬ í‘œì‹œ\r\n      setIsRolling(true);\r\n      setShowRollingModal(true);\r\n    }\r\n  };\r\n  \r\n  // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ê²°ê³¼ ì²˜ë¦¬ í•¨ìˆ˜\r\n  const handleRollComplete = (results) => {\r\n    console.log('ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ê²°ê³¼:', results);\r\n    \r\n    // ê²°ê³¼ ì €ì¥\r\n    setRolledResults(results);\r\n    \r\n    // ê²°ê³¼ ê³„ì‚°\r\n    let newBrains = currentBrains;\r\n    let newShotguns = currentShotguns;\r\n    \r\n    results.forEach(({ result }) => {\r\n      if (result === 'BRAIN') newBrains++;\r\n      if (result === 'SHOTGUN') newShotguns++;\r\n    });\r\n    \r\n    // ì„œë²„ì— ê²°ê³¼ ì „ì†¡\r\n    if (window.socket) {\r\n      const roomId = window.location.pathname.split('/')[2];\r\n      window.socket.emit('gameAction', {\r\n        action: 'rollDiceResult',\r\n        roomId,\r\n        results,\r\n        brains: newBrains,\r\n        shotguns: newShotguns\r\n      });\r\n    }\r\n    \r\n    // ìƒíƒœ ì—…ë°ì´íŠ¸\r\n    setCurrentBrains(newBrains);\r\n    setCurrentShotguns(newShotguns);\r\n    \r\n    // ëª¨ë‹¬ ë‹«ê¸° (ì•½ê°„ì˜ ë”œë ˆì´ í›„)\r\n    setTimeout(() => {\r\n      setShowRollingModal(false);\r\n      setIsRolling(false);\r\n    }, 500);\r\n  };\r\n  \r\n  // ì„œë²„ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ìˆ˜ì •\r\n  useEffect(() => {\r\n    if (window.socket) {\r\n      // ì£¼ì‚¬ìœ„ ì„ íƒ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ\r\n      const handleDiceSelected = (data) => {\r\n        console.log('ì£¼ì‚¬ìœ„ ì„ íƒë¨:', data);\r\n        \r\n        setSelectedDice(data.selectedDice || []);\r\n        setDicePool(data.dicePool || []);\r\n      };\r\n      \r\n      // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ê²°ê³¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ì„œë²„ì—ì„œ ê²°ê³¼ í™•ì¸ìš©)\r\n      const handleRollDiceResult = (data) => {\r\n        console.log('ì„œë²„ì—ì„œ ì£¼ì‚¬ìœ„ ê²°ê³¼ í™•ì¸:', data);\r\n        \r\n        // ì£¼ì‚¬ìœ„ í’€ ì—…ë°ì´íŠ¸\r\n        if (data.dicePool) {\r\n          setDicePool(data.dicePool);\r\n        }\r\n        \r\n        // ìŠ¹ì í™•ì¸\r\n        if (data.winner) {\r\n          setWinner(data.winner);\r\n        }\r\n      };\r\n      \r\n      // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡\r\n      window.socket.on('diceSelected', handleDiceSelected);\r\n      window.socket.on('rollDiceResult', handleRollDiceResult);\r\n      \r\n      // ê¸°ì¡´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ìœ ì§€\r\n      // ...\r\n      \r\n      // í´ë¦°ì—…\r\n      return () => {\r\n        window.socket.off('diceSelected', handleDiceSelected);\r\n        window.socket.off('rollDiceResult', handleRollDiceResult);\r\n        // ê¸°ì¡´ í´ë¦°ì—… ìœ ì§€\r\n        // ...\r\n      };\r\n    }\r\n  }, [currentBrains, currentShotguns, isMyTurn, onTurnEnd]);\r\n  \r\n  // ë‚´ í„´ì¼ ë•Œ í™”ë©´ ìˆ˜ì •\r\n  return (\r\n    <div className=\"zombie-dice\">\r\n      {renderScoreBoard()}\r\n      \r\n      {winner ? (\r\n        <div className=\"alert alert-success text-center\">\r\n          <h3>ğŸ† {winner.nickname}ë‹˜ì´ ìŠ¹ë¦¬í•˜ì…¨ìŠµë‹ˆë‹¤! ğŸ†</h3>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"text-center mb-3\">\r\n            <h3 className=\"my-turn-indicator\">ë‹¹ì‹ ì˜ ì°¨ë¡€ì…ë‹ˆë‹¤!</h3>\r\n          </div>\r\n          \r\n          <div className=\"current-status mb-3\">\r\n            <div className=\"d-flex justify-content-around\">\r\n              <div>íšë“í•œ ë‡Œ: {currentBrains}</div>\r\n              <div>ìƒ·ê±´ íšŸìˆ˜: {currentShotguns}/3</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ëª¨ë‹¬ */}\r\n          {showRollingModal && (\r\n            <div className=\"dice-rolling-modal\">\r\n              <div className=\"dice-rolling-modal-content\">\r\n                <DiceRollingScene \r\n                  selectedDice={selectedDice}\r\n                  onRollComplete={handleRollComplete}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"dice-area mb-3\">\r\n            {!showRollingModal && (\r\n              isRolling ? (\r\n                <div className=\"text-center\">\r\n                  <p>ì£¼ì‚¬ìœ„ êµ´ë¦¬ëŠ” ì¤‘...</p>\r\n                </div>\r\n              ) : (\r\n                rolledResults.length > 0 ? (\r\n                  <div className=\"rolled-results\">\r\n                    <h4>ì£¼ì‚¬ìœ„ ê²°ê³¼:</h4>\r\n                    <div className=\"dice-results-container\">\r\n                      {rolledResults.map((result, index) => (\r\n                        <div key={index} className={`dice-result ${result.result.toLowerCase()}`}>\r\n                          <div className={`dice-type ${result.type.toLowerCase()}`}></div>\r\n                          <div className=\"dice-face\">\r\n                            {result.result === 'BRAIN' && 'ë‡Œ'}\r\n                            {result.result === 'SHOTGUN' && 'ì´'}\r\n                            {result.result === 'FOOTSTEPS' && 'ë°œìêµ­'}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <button \r\n                    className=\"btn btn-primary btn-lg\"\r\n                    onClick={handleRoll}\r\n                    disabled={isRolling}\r\n                  >\r\n                    {selectedDice.length === 0 ? \"ì£¼ì‚¬ìœ„ ì„ íƒ\" : \"ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸°\"}\r\n                  </button>\r\n                )\r\n              )\r\n            )}\r\n          </div>\r\n\r\n          {rolledResults.length > 0 && !winner && !isRolling && !showRollingModal && (\r\n            <div className=\"controls\">\r\n              <button \r\n                className=\"btn btn-success me-2\"\r\n                onClick={handleContinue}\r\n                disabled={currentShotguns >= 3}\r\n              >\r\n                ê³„ì†í•˜ê¸°\r\n              </button>\r\n              <button \r\n                className=\"btn btn-warning\"\r\n                onClick={handleStop}\r\n              >\r\n                {currentShotguns >= 3 ? \"í„´ ì¢…ë£Œ (0ì )\" : \"ë©ˆì¶”ê¸°\"}\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {currentShotguns >= 3 && (\r\n            <div className=\"alert alert-danger mt-3\">\r\n              <strong>ì´ì´ 3ê°œ ì´ìƒ!</strong> ì´ë²ˆ í„´ì— íšë“í•œ ë‡Œë¥¼ ëª¨ë‘ ìƒì—ˆìŠµë‹ˆë‹¤. í„´ì„ ì¢…ë£Œí•´ì£¼ì„¸ìš”.\r\n            </div>\r\n          )}\r\n          \r\n          <DicePoolStatus dicePool={dicePool} />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ZombieDice;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}